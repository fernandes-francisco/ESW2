@model RelatorioImpostosViewModel

@{
    ViewData["Title"] = "Relatório de Impostos";
}

<h2>Relatório de Impostos</h2>

<form asp-action="RelatorioImpostos" method="post" class="mb-4">
    <div class="form-group">
        <label for="DataInicio">Data Início</label>
        <input asp-for="DataInicio" class="form-control" type="date" />
    </div>
    <div class="form-group">
        <label for="DataFim">Data Fim</label>
        <input asp-for="DataFim" class="form-control" type="date" />
    </div>
    <button type="submit" class="btn btn-primary mt-2">Gerar Relatório</button>
</form>

@if (Model.Itens != null && Model.Itens.Any())
{
    <table class="table table-bordered">
        <thead>
        <tr>
            <th>Nome do Ativo</th>
            <th>Ano</th>
            <th>Mês</th>
            <th>Valor Total de Imposto (€)</th>
        </tr>
        </thead>
        <tbody>
        @foreach (var item in Model.Itens)
        {
            <tr>
                <td>@item.NomeAtivo</td>
                <td>@item.Ano</td>
                <td>@item.Mes</td>
                <td>@item.ValorTotalImposto.ToString("C")</td>
            </tr>
        }
        </tbody>
    </table>
}
else if (Model.DataInicio != default && Model.DataFim != default)
{
    <p><strong>Não foram encontrados resultados no intervalo selecionado.</strong></p>
}